$(function () {
	$(window).on('scroll', function () {
		var $scroll = $(this).scrollTop();
		//拖动滚轮，对应的楼梯样式进行匹配
		$('.design_box').each(function () {
			var $loutitop = $('.design_box').eq($(this).index()).offset().top;
			if ($scroll >= $loutitop - $('.header').height()) {//楼层的top大于滚动条的距离 
				$('.menu li').removeClass('current');
				$('.menu li').eq($(this).index()).addClass('current');
				$(".bottomLine").css("top", parseFloat($(this).index() * 40) + "px");
				// return false;
			}
		});
	});

	$('.menu_bt').on('click', function (event) {
		$(this).toggleClass("open");
		$(".menu").toggleClass("left");
		$(".mainbox").toggleClass("left");
		$("body").toggleClass("over");
	})

	$('.menu').on('click', 'li', function (event) {
		var $this = $(this);
		$this.addClass('current').siblings('.menu li').removeClass('current');
		$("body").removeClass("over");
		$(".menu_bt").removeClass("open");
		$(".menu").removeClass("left");
		$(".mainbox").removeClass("left");
		$("html,body").animate({
			scrollTop: $(".design_box").eq($this.index()).offset().top - 50 + "px"
		}, 300);
	});
});